{"mappings":"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","sources":["src/dashboard.js"],"sourcesContent":["import * as echarts from \"echarts\";\n\nlet globalResults = [];\n\nfunction setupTabs() {\n  const tabs = {\n    charts: document.getElementById(\"content-charts\"),\n    domainLookup: document.getElementById(\"content-domain-lookup\"),\n    trackerNetwork: document.getElementById(\"content-tracker-network\"),\n  };\n\n  const btnCharts = document.getElementById(\"tab-charts\");\n  const btnDomain = document.getElementById(\"tab-domain-lookup\");\n  const btnNetwork = document.getElementById(\"tab-tracker-network\");\n\n  let trackerNetworkInitialized = false;\n\n  function activateTab(selected) {\n    Object.entries(tabs).forEach(([key, el]) => {\n      el.classList.toggle(\"hidden\", key !== selected);\n    });\n    [btnCharts, btnDomain, btnNetwork].forEach((btn) => {\n      btn.classList.remove(\"bg-blue-500\", \"text-white\");\n      btn.classList.add(\"bg-gray-200\", \"text-gray-700\");\n    });\n    if (selected === \"charts\") {\n      btnCharts.classList.replace(\"bg-gray-200\", \"bg-blue-500\");\n      btnCharts.classList.replace(\"text-gray-700\", \"text-white\");\n    } else if (selected === \"domainLookup\") {\n      btnDomain.classList.replace(\"bg-gray-200\", \"bg-blue-500\");\n      btnDomain.classList.replace(\"text-gray-700\", \"text-white\");\n    } else if (selected === \"trackerNetwork\") {\n      btnNetwork.classList.replace(\"bg-gray-200\", \"bg-blue-500\");\n      btnNetwork.classList.replace(\"text-gray-700\", \"text-white\");\n      if (!trackerNetworkInitialized) {\n        setTimeout(() => {\n          initTrackerNetwork(globalResults);\n          trackerNetworkInitialized = true;\n        }, 100); // Ensure container is visible before rendering\n      }\n    }\n  }\n\n  btnCharts.addEventListener(\"click\", () => activateTab(\"charts\"));\n  btnDomain.addEventListener(\"click\", () => activateTab(\"domainLookup\"));\n  btnNetwork.addEventListener(\"click\", () => activateTab(\"trackerNetwork\"));\n\n  activateTab(\"charts\");\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", async () => {\n  try {\n    const analyticsRes = await fetch(\"/assets/data/analytics.json\");\n    const resultsRes = await fetch(\"/assets/data/results.json\");\n\n    const analytics = await analyticsRes.json();\n    const results = await resultsRes.json();\n    globalResults = results;\n\n    initBarChart(results);\n    initPieChart(analytics);\n    initStackedBarChart(analytics);\n    initDoughnutChart(analytics);\n    initDomainLookup(results);\n\n    setupTabs();\n  } catch (err) {\n    console.error(\"Dashboard data error:\", err);\n    alert(\"Failed to load dashboard data.\");\n  }\n});\n\nfunction initBarChart(results) {\n  const chart = echarts.init(document.getElementById(\"bar-chart\"));\n  const domains = results.map((r) => r.domain);\n  const trackerCounts = results.map((r) => r.trackers?.length || 0);\n  chart.setOption({\n    tooltip: { trigger: \"axis\" },\n    xAxis: { type: \"category\", data: domains, axisLabel: { rotate: 30 } },\n    yAxis: { type: \"value\", name: \"Trackers\" },\n    series: [{\n      name: \"Trackers\",\n      type: \"bar\",\n      data: trackerCounts,\n      itemStyle: { color: \"#4F46E5\" },\n    }],\n  });\n}\n\nfunction initPieChart(analytics) {\n  const chart = echarts.init(document.getElementById(\"pie-chart\"));\n  const categories = analytics.topTrackerCategories || [];\n  const data = categories.map((cat) => ({ name: cat.name, value: cat.count }));\n  chart.setOption({\n    tooltip: { trigger: \"item\" },\n    series: [{\n      type: \"pie\",\n      radius: \"60%\",\n      data,\n      emphasis: {\n        itemStyle: {\n          shadowBlur: 10,\n          shadowOffsetX: 0,\n          shadowColor: \"rgba(0, 0, 0, 0.4)\",\n        },\n      },\n    }],\n  });\n}\n\nfunction initStackedBarChart(analytics) {\n  const byCountry = analytics.analysisByCountry || {};\n  const countryData = {};\n  Object.entries(byCountry).forEach(([country, data]) => {\n    data.topTrackerOwners.forEach((owner) => {\n      const name = owner.name?.displayName || owner.name?.name || \"Unknown\";\n      countryData[country] = countryData[country] || {};\n      countryData[country][name] = (countryData[country][name] || 0) + owner.count;\n    });\n  });\n  const countries = Object.keys(countryData);\n  const owners = Array.from(new Set(countries.flatMap((c) => Object.keys(countryData[c]))));\n  const series = owners.map((owner) => ({\n    name: owner,\n    type: \"bar\",\n    stack: \"total\",\n    data: countries.map((c) => countryData[c][owner] || 0),\n  }));\n  const chart = echarts.init(document.getElementById(\"stacked-bar-chart\"));\n  chart.setOption({\n    tooltip: { trigger: \"axis\", axisPointer: { type: \"shadow\" } },\n    legend: { data: owners },\n    xAxis: { type: \"category\", data: countries },\n    yAxis: { type: \"value\" },\n    series,\n  });\n}\n\nfunction initDoughnutChart(analytics) {\n  const domainCounts = {};\n  const byCategory = analytics.analysisByCategory || {};\n  Object.values(byCategory).forEach((cat) => {\n    cat.topTrackerOwners.forEach((owner) => {\n      const name = owner.name?.displayName || owner.name?.name;\n      if (name) domainCounts[name] = (domainCounts[name] || 0) + owner.count;\n    });\n  });\n  const top = Object.entries(domainCounts)\n    .sort((a, b) => b[1] - a[1])\n    .slice(0, 10)\n    .map(([name, value]) => ({ name, value }));\n  const chart = echarts.init(document.getElementById(\"doughnut-chart\"));\n  chart.setOption({\n    tooltip: { trigger: \"item\" },\n    series: [{\n      type: \"pie\",\n      radius: [\"40%\", \"70%\"],\n      data: top,\n      emphasis: {\n        itemStyle: {\n          shadowBlur: 10,\n          shadowOffsetX: 0,\n          shadowColor: \"rgba(0, 0, 0, 0.5)\",\n        },\n      },\n    }],\n  });\n}\n\nfunction initDomainLookup(results) {\n  const select = document.getElementById(\"domain-select\");\n  results.forEach((r) => {\n    const opt = document.createElement(\"option\");\n    opt.value = r.domain;\n    opt.textContent = r.domain;\n    select.appendChild(opt);\n  });\n  select.addEventListener(\"change\", () => {\n    const site = results.find((r) => r.domain === select.value);\n    renderDomainDetails(site);\n  });\n  if (select.options.length > 0) {\n    select.selectedIndex = 0;\n    select.dispatchEvent(new Event(\"change\"));\n  }\n}\n\nfunction renderDomainDetails(site) {\n  const container = document.getElementById(\"domain-details\");\n  container.innerHTML = \"\";\n  if (!site) {\n    container.textContent = \"No data for this domain.\";\n    return;\n  }\n  const header = `<h3 class=\"text-lg font-bold mb-2\">${site.domain}</h3>`;\n  const info = `\n    <p class=\"text-sm mb-2\"><strong>Final URL:</strong> ${site.finalUrl}</p>\n    <p class=\"text-sm mb-2\"><strong>Size:</strong> ${site.totalSize.toLocaleString()} bytes</p>\n    <p class=\"text-sm mb-4\"><strong>Timestamp:</strong> ${new Date(site.timestamp).toLocaleString()}</p>\n  `;\n  const tableRows = (site.trackers || [])\n    .map(t => `\n      <tr>\n        <td class=\"px-4 py-2\">${t.domain}</td>\n        <td class=\"px-4 py-2\">${t.info?.owner || \"N/A\"}</td>\n        <td class=\"px-4 py-2\">${t.info?.prevalence || \"N/A\"}</td>\n        <td class=\"px-4 py-2\">${(t.info?.categories || []).join(\", \")}</td>\n      </tr>\n    `)\n    .join(\"\");\n  const table = `\n    <table class=\"min-w-full table-auto text-sm\">\n      <thead>\n        <tr class=\"bg-gray-100\">\n          <th class=\"px-4 py-2 text-left\">Tracker</th>\n          <th class=\"px-4 py-2 text-left\">Owner</th>\n          <th class=\"px-4 py-2 text-left\">Prevalence</th>\n          <th class=\"px-4 py-2 text-left\">Categories</th>\n        </tr>\n      </thead>\n      <tbody class=\"divide-y\">${tableRows}</tbody>\n    </table>\n  `;\n  container.innerHTML = header + info + table;\n}\n\nfunction initTrackerNetwork(results) {\n  const siteNodes = [];\n  const trackerNodes = {};\n  const links = [];\n\n  results.forEach((site) => {\n    const siteId = `site-${site.domain}`;\n    siteNodes.push({\n      id: siteId,\n      name: site.domain,\n      category: 0,\n      symbolSize: 60,\n      itemStyle: { color: \"#3B82F6\" },\n    });\n\n    (site.trackers || []).forEach((tracker) => {\n      const domain = normalizeDomain(tracker.domain);\n      const trackerId = `tracker-${domain}`;\n      if (!trackerNodes[trackerId]) {\n        trackerNodes[trackerId] = {\n          id: trackerId,\n          name: domain,\n          category: 1,\n          symbolSize: 35,\n          // itemStyle: { color: \"#F472B6\" },\n        };\n      }\n      links.push({\n        source: siteId,\n        target: trackerId,\n        value: tracker.info?.prevalence || 1,\n        lineStyle: { opacity: 0.6, width: 2 },\n      });\n    });\n  });\n\n  const nodes = [...siteNodes, ...Object.values(trackerNodes)];\n  const chart = echarts.init(document.getElementById(\"tracker-network-chart\"));\n\n  chart.setOption({\n    tooltip: { formatter: (params) => params.data.name },\n    legend: {\n      data: [\"Websites\", \"Trackers\"],\n      bottom: 10,\n    },\n    series: [{\n      type: \"graph\",\n      layout: \"force\",\n      roam: true,\n      data: nodes,\n      links,\n      categories: [{ name: \"Websites\" }, { name: \"Trackers\" }],\n      label: {\n        show: true,\n        formatter: (p) => p.data.name.length > 15 ? p.data.name.slice(0, 12) + \"...\" : p.data.name,\n      },\n      force: {\n        repulsion: 1000,\n        edgeLength: 100,\n      },\n      edgeSymbol: [\"none\", \"arrow\"],\n      edgeSymbolSize: [0, 6],\n    }],\n  });\n\n  window.addEventListener(\"resize\", () => chart.resize());\n}\n\nfunction normalizeDomain(domain) {\n  try {\n    const parts = domain.split(\".\").filter(Boolean);\n    return parts.length <= 2 ? domain : parts.slice(-2).join(\".\");\n  } catch {\n    return domain;\n  }\n}\n"],"names":[],"version":3,"file":"index.js.map","sourceRoot":"/"}